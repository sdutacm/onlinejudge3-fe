import { delay } from 'roadhog-api-doc';
import { success, failure, randomSuccessOrFailure, randomResponse } from './utils/MockResponse';

const proxy = {
  'GET /api2/solutions': success({
    page: 1,
    count: 30,
    limit: 10,
    rows: [
      {
        solutionId: 10000,
        user: {
          userId: 1,
          username: 'bLue',
          nickname: 'bLue',
          avatar: 'https://jk1507.cn/download/tavatar/bLue.jpg',
        },
        problem: {
          problemId: 1002,
          title: 'Problem Title',
          timeLimit: 12000,
        },
        contest: {
          contestId: 1005,
          title: 'Contest Title',
        },
        result: 0,
        time: 0,
        memory: 0,
        language: 'g++',
        codeLength: 2333,
        shared: true,
        createdAt: 1539812748,
      },
      {
        solutionId: 10001,
        user: {
          userId: 2,
          username: '',
          nickname: '素宇',
          avatar: 'https://jk1507.cn/download/tavatar/%E7%B4%A0%E5%AE%87.png',
        },
        problem: {
          problemId: 1002,
          title: 'Problem Title 1001',
          timeLimit: 6000,
        },
        result: 0,
        time: 0,
        memory: 0,
        language: 'java',
        codeLength: 506,
        shared: false,
        createdAt: 1539812748,
      },
      {
        solutionId: 10003,
        user: {
          userId: 2,
          username: '',
          nickname: '素宇',
          avatar: 'https://jk1507.cn/download/tavatar/%E7%B4%A0%E5%AE%87.png',
        },
        problem: {
          problemId: 1002,
          title: 'Problem Title 1002',
          timeLimit: 1000,
        },
        result: 4,
        time: 3230,
        memory: 8532,
        language: 'java',
        codeLength: 506,
        shared: false,
        createdAt: 1539812598,
      },
      {
        solutionId: 10002,
        user: {
          userId: 2,
          username: '',
          nickname: '木杉',
          avatar: 'https://jk1507.cn/download/tavatar/%e6%9c%a8%e6%9d%89.png',
        },
        problem: {
          problemId: 1001,
          title: 'Problem Title 1002',
          timeLimit: 8000,
        },
        result: 1,
        time: 280,
        memory: 9648,
        language: 'java',
        codeLength: 1520,
        shared: false,
        createdAt: 1539772300,
      },
      {
        solutionId: 10005,
        user: {
          userId: 2,
          username: '',
          nickname: 'kibbo',
          avatar: 'https://jk1507.cn/download/tavatar/kibbo.png',
        },
        problem: {
          problemId: 1001,
          title: 'Problem Title 1002',
          timeLimit: 8000,
        },
        result: 2,
        time: 1010,
        memory: 0,
        language: 'g++',
        codeLength: 787,
        shared: false,
        createdAt: 1539602396,
      },
      {
        solutionId: 10004,
        user: {
          userId: 2,
          username: '',
          nickname: 'axuhongbo',
          avatar: 'https://jk1507.cn/download/tavatar/axuhongbo.png',
        },
        problem: {
          problemId: 1002,
          title: 'Problem Title 1002',
          timeLimit: 8000,
        },
        result: 8,
        time: 92,
        memory: 512,
        language: 'g++',
        codeLength: 760,
        shared: false,
        createdAt: 1539242396,
      },
      {
        solutionId: 10006,
        user: {
          userId: 2,
          username: '',
          nickname: '不得不放弃、',
          avatar: 'https://jk1507.cn/download/tavatar/%e4%b8%8d%e5%be%97%e4%b8%8d%e6%94%be%e5%bc%83%e3%80%81.png',
        },
        problem: {
          problemId: 1001,
          title: 'Problem Title 1002',
          timeLimit: 8000,
        },
        result: 5,
        time: 0,
        memory: 0,
        language: 'g++',
        codeLength: 98,
        shared: false,
        createdAt: 1538702396,
      },
      {
        solutionId: 10007,
        user: {
          userId: 2,
          username: '',
          nickname: 'MeiK',
          avatar: 'https://jk1507.cn/download/tavatar/MeiK.png',
        },
        problem: {
          problemId: 1001,
          title: 'Problem Title 1002',
          timeLimit: 1000,
        },
        result: 6,
        time: 130,
        memory: 752,
        language: 'g++',
        codeLength: 599,
        shared: false,
        createdAt: 1522072396,
      },
      {
        solutionId: 10008,
        user: {
          userId: 2,
          username: '',
          nickname: 'zxw',
          avatar: 'https://jk1507.cn/download/tavatar/zxw.gif',
        },
        problem: {
          problemId: 1000,
          title: 'Problem Title 1002',
          timeLimit: 1000,
        },
        result: 1,
        time: 0,
        memory: 264,
        language: 'gcc',
        codeLength: 281,
        shared: false,
        createdAt: 1223872396,
      },
      {
        solutionId: 10009,
        user: {
          userId: 2,
          username: '',
          nickname: 'raincloud',
          avatar: 'https://jk1507.cn/download/tavatar/lxh.jpg',
        },
        problem: {
          problemId: 1000,
          title: 'Problem Title 1002',
          timeLimit: 1000,
        },
        result: 1,
        time: 0,
        memory: 220,
        language: 'gcc',
        codeLength: 180,
        shared: false,
        createdAt: 1223872396,
      },
    ],
  }),
  'GET /api2/solutions/10009': success({
    solutionId: 10000,
    user: {
      userId: 2,
      username: '',
      nickname: 'raincloud',
      avatar: 'https://jk1507.cn/download/tavatar/lxh.jpg',
    },
    problem: {
      problemId: 1000,
      title: 'Problem Title 1002',
      timeLimit: 1000,
    },
    contest: {
      contestId: 1005,
      title: 'Contest Title',
    },
    result: 1,
    time: 0,
    memory: 220,
    language: 'gcc',
    codeLength: 180,
    shared: false,
    createdAt: 1223872396,
    code: '#include <stdio.h>\n\nint main() {\n    printf("Hello World!");\n    return 0;\n}',
  }),
  'GET /api2/solutions/10001': success({
    solutionId: 10001,
    user: {
      userId: 2,
      username: 'Username 2',
      nickname: 'Nickname 2',
      avatar: '',
    },
    problem: {
      problemId: 1001,
      title: 'Problem Title 1001',
      timeLimit: 5000,
    },
    result: 8,
    time: 0,
    memory: 250,
    language: 'python2',
    codeLength: 1500,
    shared: false,
    createdAt: 1537262269,
  }),
  'GET /api2/solutions/401': failure(501),
  'GET /api2/solutions/402': failure(502),
  'POST /api2/solutions': (req, res) => {
    res.send(randomResponse([
      success({
        solutionId: 10002,
      }),
      // failure(503),
      // failure(504),
      // failure(505),
      // failure(506),
      // failure(507),
      // failure(508),
      // failure(509),
      // failure(510),
      // failure(511),
      // failure(512),
    ]));
  },
};

export default delay(proxy, 100);
